mvs ca jcl question i am trying to update several hundred tapes in tms using tmsupdte the tapes are random volsers with different conditions so a tmsgrw is out of the question i would like to scan the tapes into a list then use that list as input source file tmcupdt job hcscscco 'some user' msglevel class u prty msgclass t notify someuser s exec pgm tmsupdte parm 'test' steplib dd disp shr dsn sys prod tms load restrict tmsrpt dd sysout sysin dd for f list in mydataset do vol list nodsn rep outcode hexzero rep outdate zeros rep slot hexzeros that oughta keep yer operators busy for awhile i'm at home so i don't have my ol' manuals handy but one thing i notice right off is you don't have a target for the unlikely but logically important possibility the list is empty where's either a jobstep before s for opening the dataset to hold the tape volume list to be written one vol at a time by your loop or a var in s to build and hold an array of tapes i personally don't know tms i just remember rexx where's the step for closing the list of tapes to be used later i would think most likely you'd use the path use a jobstep before s to open a temp file in s set up to write out a record each time to that temp file if the conditions are met then a step after s to use the resulting tapes and a jobstep after that to cleanup and erase the temp file but i'm likely not giving you the real help you need in s que no Grep Perl Filename extension Portable Document Format File Transfer Protocol Regular expression Pipeline (Unix) File format Request for Comments Binary and text files AWK programming language Diff Sed Unix COMMAND.COM File Allocation Table Domain-specific programming language Bash ALGOL 68 TeX Ebook PNG C programming language Domain Name System CP/M Novell NetWare OpenDocument Windows Vista MBASIC Web crawler Computer virus Computer science Logo programming language Metadata Enterprise content management REBOL BASIC programming language Server Text editor Asterisk Ed Programming tool Password Trojan horse (computing) Common Unix Printing System Brainfuck Control flow Linked list UBASIC Chmod Newline Geographic information system Mac OS X ITunes Files-11 Shell script MUMPS Tar (file format) E-mail Apple typography Blog Podcasting Search engine optimization Vertical bar Password cracking New I/O Master Control Program Screenshot Btrieve Whois Pretty Good Privacy Data General Nova SAS System MP3 Open access MIME AmigaOS XML Hello world program Usenet Quicksort Batch file DVD File sharing System 7 (Macintosh) Translation memory Morse Code Freenet Raster graphics Internet Relay Chat GIF HP BASIC for OpenVMS PlayStation Portable Web page Uniform Resource Locator Apple II family 